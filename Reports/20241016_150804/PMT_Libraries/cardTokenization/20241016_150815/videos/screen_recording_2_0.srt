1
00:00:00,675 --> 00:00:00,683
1. try

2
00:00:00,686 --> 00:00:15,083
1. utils.openBrowserAndNavigateToPMT()

3
00:00:15,110 --> 00:00:15,135
5. EXCEL_PATH = "./Data Files/TestData.xlsx"

4
00:00:15,136 --> 00:00:15,144
9. TAB = "cardTokenization_Encrypt"

5
00:00:15,145 --> 00:00:15,153
13. driver = getWebDriver()

6
00:00:15,154 --> 00:00:21,248
17. utils.goToCardTokenization()

7
00:00:21,250 --> 00:00:23,400
21. utils.selectEnvironment(ENV)

8
00:00:23,401 --> 00:00:23,692
25. sendRequestTextBox = driver.findElement(By.xpath("//textarea[@name='req']"))

9
00:00:23,693 --> 00:00:24,084
29. testdata = getdata.fromExcel(EXCEL_PATH, TAB)

10
00:00:24,085 --> 00:00:24,090
33. for ([i = 0, i < testdata.size(), (i++)])

11
00:00:24,092 --> 00:00:29,108
1. delay(5)

12
00:00:29,109 --> 00:00:29,225
5. sendRequestTextBox.clear()

13
00:00:29,226 --> 00:00:29,234
9. encryptedCard = testdata["encryptedCard"][i]

14
00:00:29,235 --> 00:00:29,240
13. CNumber = encryptedCard.replaceAll("\.0$", "")

15
00:00:29,242 --> 00:00:29,246
17. request = $encryptedCard

16
00:00:29,247 --> 00:00:29,253
21. println(request)

17
00:00:29,254 --> 00:00:29,431
25. sendRequestTextBox.sendKeys(request)

18
00:00:29,432 --> 00:00:29,866
29. utils.clickSendButton()

19
00:00:29,867 --> 00:00:32,881
33. delay(3)

20
00:00:32,884 --> 00:00:33,500
37. response = utils.getResponse()

21
00:00:33,501 --> 00:00:33,508
41. println(response)

22
00:00:33,509 --> 00:00:33,516
45. validation1 = testdata["ContainsValidation"][i]

23
00:00:33,517 --> 00:00:33,524
49. println(validation1)

24
00:00:33,525 --> 00:00:33,530
53. validation2 = testdata["NotContainsValidation"][i]

25
00:00:33,531 --> 00:00:33,544
57. println(validation2)

26
00:00:33,545 --> 00:00:33,557
61. println(testdata["TCNumber"][i])

27
00:00:33,558 --> 00:00:33,566
65. assert response.contains(validation1)

28
00:00:33,568 --> 00:00:33,585
69. assert response.contains(validation2) == false

29
00:00:33,592 --> 00:00:38,616
1. delay(5)

30
00:00:38,617 --> 00:00:38,670
5. sendRequestTextBox.clear()

31
00:00:38,671 --> 00:00:38,673
9. encryptedCard = testdata["encryptedCard"][i]

32
00:00:38,674 --> 00:00:38,676
13. CNumber = encryptedCard.replaceAll("\.0$", "")

33
00:00:38,676 --> 00:00:38,678
17. request = $encryptedCard

34
00:00:38,679 --> 00:00:38,681
21. println(request)

35
00:00:38,682 --> 00:00:38,821
25. sendRequestTextBox.sendKeys(request)

36
00:00:38,822 --> 00:00:39,192
29. utils.clickSendButton()

37
00:00:39,192 --> 00:00:42,202
33. delay(3)

38
00:00:42,204 --> 00:00:42,471
37. response = utils.getResponse()

39
00:00:42,472 --> 00:00:42,475
41. println(response)

40
00:00:42,475 --> 00:00:42,477
45. validation1 = testdata["ContainsValidation"][i]

41
00:00:42,478 --> 00:00:42,480
49. println(validation1)

42
00:00:42,480 --> 00:00:42,482
53. validation2 = testdata["NotContainsValidation"][i]

43
00:00:42,483 --> 00:00:42,485
57. println(validation2)

44
00:00:42,486 --> 00:00:42,488
61. println(testdata["TCNumber"][i])

45
00:00:42,488 --> 00:00:42,490
65. assert response.contains(validation1)

46
00:00:42,490 --> 00:00:42,496
69. assert response.contains(validation2) == false

47
00:00:42,497 --> 00:00:44,790
1. utils.closeBrowser()

